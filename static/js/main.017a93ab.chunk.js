(this.webpackJsonpuppstocks=this.webpackJsonpuppstocks||[]).push([[0],{157:function(e,t,n){},261:function(e,t,n){"use strict";n.r(t);var c=n(5),a=n(0),o=n.n(a),r=n(39),s=n.n(r),i=(n(157),n(158),n(82)),l=n(132),u=n(277),j=n(278),d=n(275),b=n(272),h=n(66),O=n.n(h),m=n(273),f=n(274),k=n(133),p=function(e){return{labels:e.map((function(e){return O()(e.date).format("DD MMM h:mm a")})),datasets:[{label:"# Stock Price ",data:e.map((function(e){return e.value.toLocaleString()})),fill:!1,backgroundColor:"rgb(255, 99, 132)",borderColor:"rgba(255, 99, 132, 0.2)"}]}},v={scales:{yAxes:[{ticks:{beginAtZero:!0}}]}},x=function(e){var t=e.stockDetails;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(k.Line,{data:p(t),options:v})})},g=o.a.memo(x);var C=function(e){var t=e.stockDetails,n=e.stock;return Object(c.jsx)(m.a,{trigger:Object(c.jsx)(f.a,{children:"Show Details"}),header:n.toUpperCase()+" Chart History",content:Object(c.jsx)(g,{stockDetails:t}),actions:[{key:"done",content:"Close",positive:!0}]})},D=function(e){var t,n=e.stockData,a=function(e){return e.length>1&&e[e.length-1].value>e[e.length-2].value};return Object(c.jsxs)(d.a,{celled:!0,children:[Object(c.jsx)(d.a.Header,{children:Object(c.jsxs)(d.a.Row,{children:[Object(c.jsx)(d.a.HeaderCell,{children:"Ticker"}),Object(c.jsx)(d.a.HeaderCell,{children:"Price"}),Object(c.jsx)(d.a.HeaderCell,{children:"Last Update"}),Object(c.jsx)(d.a.HeaderCell,{children:"Actions"})]})}),Object(c.jsx)(d.a.Body,{children:(t=n,0===Object.keys(t).length&&t.constructor===Object?Object(c.jsx)(b.a,{children:" No Data "}):Object.keys(n).map((function(e){return Object(c.jsxs)(d.a.Row,{negative:(t=n[e],t.length>1&&t[t.length-1].value<t[t.length-2].value),positive:a(n[e]),children:[Object(c.jsxs)(d.a.Cell,{children:[e.toUpperCase()," "]}),Object(c.jsx)(d.a.Cell,{children:n[e].slice(-1)[0].value.toLocaleString()}),Object(c.jsx)(d.a.Cell,{children:O()(n[e].slice(-1)[0].date).format("DD MMM h:mm a")}),Object(c.jsx)(d.a.Cell,{children:Object(c.jsx)(C,{stockDetails:n[e],stock:e})})]},e);var t})))})]})},y=n(136),w=n(137),S=n(81),M=n(142),L=n(140),E=n(141),H=n(143),F=function(e,t){var n,c=Object(H.a)({},e),a={},o=Object(E.a)(t);try{for(o.s();!(n=o.n()).done;){var r=n.value;a[r[0]]=r[1]}}catch(s){o.e(s)}finally{o.f()}return Object.keys(a).forEach((function(e){c[e]?c[e].push({value:a[e],date:Date.now()}):c[e]=[{value:a[e],date:Date.now()}]})),c},P=function(e){Object(M.a)(n,e);var t=Object(L.a)(n);function n(){var e;Object(y.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={ws:null,stockData:[]},e.timeout=250,e.connect=function(){var t,n=new WebSocket("ws://stocks.mnet.website/"),c=Object(S.a)(e);n.onopen=function(){console.log("connected websocket main component"),e.setState({ws:n}),c.timeout=250,clearTimeout(t)},n.onclose=function(n){console.log("Socket is closed. Reconnect will be attempted in ".concat(Math.min(10,(c.timeout+c.timeout)/1e3)," second."),n.reason),c.timeout=c.timeout+c.timeout,t=setTimeout(e.check,Math.min(1e4,c.timeout))},n.onerror=function(e){console.error("Socket encountered error: ",e.message,"Closing socket"),n.close()},n.onmessage=function(t){if(t&&t.data){var n=F(e.state.stockData,JSON.parse(t.data));e.setState({stockData:n})}}},e.check=function(){var t=e.state.ws;t&&t.readyState!==WebSocket.CLOSED||e.connect()},e}return Object(w.a)(n,[{key:"componentDidMount",value:function(){this.connect()}},{key:"render",value:function(){var e=this;return o.a.Children.map(this.props.children,(function(t){return o.a.cloneElement(t,{stockData:e.state.stockData})}))}}]),n}(a.Component);function T(){var e=Object(l.a)(["\n  background: "," !important;\n"]);return T=function(){return e},e}var A=function(){return Object(c.jsx)("div",{children:Object(c.jsx)(R,{children:Object(c.jsx)(u.a,{children:Object(c.jsx)(u.a.Row,{children:Object(c.jsx)(u.a.Column,{children:Object(c.jsx)(P,{children:Object(c.jsx)(D,{})})})})})})})},R=Object(i.b)(j.a)(T(),(function(e){return e.theme.secondary})),B={primary:"#4C051E",secondary:"#00293D",tertiary:"#CED3DC",altPrimary:"#556177"};var J=function(){return Object(c.jsx)(i.a,{theme:B,children:Object(c.jsx)(A,{})})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,280)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),o(e),r(e)}))};s.a.render(Object(c.jsx)(J,{}),document.getElementById("root")),U()}},[[261,1,2]]]);
//# sourceMappingURL=main.017a93ab.chunk.js.map