(this.webpackJsonpuppstocks=this.webpackJsonpuppstocks||[]).push([[0],{156:function(e,t,n){},257:function(e,t,n){"use strict";n.r(t);var c=n(5),a=n(0),o=n.n(a),r=n(39),s=n.n(r),i=(n(156),n(157),n(83)),l=n(132),u=n(272),j=n(273),d=n(270),b=n(67),h=n.n(b),m=n(268),O=n(269),f=n(133),k=function(e){return{labels:e.map((function(e){return h()(e.date).format("DD MMM h:mm a")})),datasets:[{label:"# Stock Price ",data:e.map((function(e){return e.value.toLocaleString()})),fill:!1,backgroundColor:"rgb(255, 99, 132)",borderColor:"rgba(255, 99, 132, 0.2)"}]}},p={scales:{yAxes:[{ticks:{beginAtZero:!0}}]}},v=function(e){var t=e.stockDetails;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(f.Line,{data:k(t),options:p})})},x=o.a.memo(v);var g=function(e){var t=e.stockDetails,n=e.stock;return Object(c.jsx)(m.a,{trigger:Object(c.jsx)(O.a,{children:"Show Details"}),header:n.toUpperCase()+" Chart History",content:Object(c.jsx)(x,{stockDetails:t}),actions:[{key:"done",content:"Close",positive:!0}]})},C=function(e){var t=e.stockData,n=function(e){return e.length>1&&e[e.length-1].value>e[e.length-2].value};return Object(c.jsxs)(d.a,{celled:!0,children:[Object(c.jsx)(d.a.Header,{children:Object(c.jsxs)(d.a.Row,{children:[Object(c.jsx)(d.a.HeaderCell,{children:"Ticker"}),Object(c.jsx)(d.a.HeaderCell,{children:"Price"}),Object(c.jsx)(d.a.HeaderCell,{children:"Last Update"}),Object(c.jsx)(d.a.HeaderCell,{children:"Actions"})]})}),Object(c.jsx)(d.a.Body,{children:Object.keys(t).map((function(e){return Object(c.jsxs)(d.a.Row,{negative:(a=t[e],a.length>1&&a[a.length-1].value<a[a.length-2].value),positive:n(t[e]),children:[Object(c.jsxs)(d.a.Cell,{children:[e.toUpperCase()," "]}),Object(c.jsx)(d.a.Cell,{children:t[e].slice(-1)[0].value.toLocaleString()}),Object(c.jsx)(d.a.Cell,{children:h()(t[e].slice(-1)[0].date).format("DD MMM h:mm a")}),Object(c.jsx)(d.a.Cell,{children:Object(c.jsx)(g,{stockDetails:t[e],stock:e})})]},e);var a}))})]})},D=n(135),y=n(136),w=n(82),S=n(141),M=n(139),L=n(140),E=n(142),H=function(e,t){var n,c=Object(E.a)({},e),a={},o=Object(L.a)(t);try{for(o.s();!(n=o.n()).done;){var r=n.value;a[r[0]]=r[1]}}catch(s){o.e(s)}finally{o.f()}return Object.keys(a).forEach((function(e){c[e]?c[e].push({value:a[e],date:Date.now()}):c[e]=[{value:a[e],date:Date.now()}]})),c},F=function(e){Object(S.a)(n,e);var t=Object(M.a)(n);function n(){var e;Object(D.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={ws:null,stockData:[]},e.timeout=250,e.connect=function(){var t,n=new WebSocket("ws://stocks.mnet.website/"),c=Object(w.a)(e);n.onopen=function(){console.log("connected websocket main component"),e.setState({ws:n}),c.timeout=250,clearTimeout(t)},n.onclose=function(n){console.log("Socket is closed. Reconnect will be attempted in ".concat(Math.min(10,(c.timeout+c.timeout)/1e3)," second."),n.reason),c.timeout=c.timeout+c.timeout,t=setTimeout(e.check,Math.min(1e4,c.timeout))},n.onerror=function(e){console.error("Socket encountered error: ",e.message,"Closing socket"),n.close()},n.onmessage=function(t){if(t&&t.data){var n=H(e.state.stockData,JSON.parse(t.data));e.setState({stockData:n})}}},e.check=function(){var t=e.state.ws;t&&t.readyState!==WebSocket.CLOSED||e.connect()},e}return Object(y.a)(n,[{key:"componentDidMount",value:function(){this.connect()}},{key:"render",value:function(){var e=this;return o.a.Children.map(this.props.children,(function(t){return o.a.cloneElement(t,{stockData:e.state.stockData})}))}}]),n}(a.Component);function P(){var e=Object(l.a)(["\n  background: "," !important;\n"]);return P=function(){return e},e}var T=function(){return Object(c.jsx)("div",{children:Object(c.jsx)(A,{children:Object(c.jsx)(u.a,{children:Object(c.jsx)(u.a.Row,{children:Object(c.jsx)(u.a.Column,{children:Object(c.jsx)(F,{children:Object(c.jsx)(C,{})})})})})})})},A=Object(i.b)(j.a)(P(),(function(e){return e.theme.secondary})),R={primary:"#4C051E",secondary:"#00293D",tertiary:"#CED3DC",altPrimary:"#556177"};var B=function(){return Object(c.jsx)(i.a,{theme:R,children:Object(c.jsx)(T,{})})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,275)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),o(e),r(e)}))};s.a.render(Object(c.jsx)(B,{}),document.getElementById("root")),J()}},[[257,1,2]]]);
//# sourceMappingURL=main.b46cdb2e.chunk.js.map